{"version":3,"file":"js/Login.f9dbefc7.js","mappings":"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","sources":["webpack://hmtt/./src/views/Login/index.vue","webpack://hmtt/src/views/Login/index.vue","webpack://hmtt/./src/views/Login/index.vue?c889","webpack://hmtt/./src/views/Login/index.vue?8e58","webpack://hmtt/./node_modules/vant/es/toast/lock-click.js","webpack://hmtt/./node_modules/vant/es/toast/Toast.js","webpack://hmtt/./node_modules/vant/es/toast/index.js","webpack://hmtt/./src/ui/Notify.js","webpack://hmtt/./src/utils/storage.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条 - 登录\"}}),_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"placeholder\":\"请输入手机号\",\"required\":\"\",\"rules\":[{ required: true, message: '请填写手机号', pattern: /^1[3456789]\\d{9}$/ }]},model:{value:(_vm.user.mobile),callback:function ($$v) {_vm.$set(_vm.user, \"mobile\", $$v)},expression:\"user.mobile\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"code\",\"label\":\"密码\",\"placeholder\":\"请输入密码\",\"required\":\"\",\"rules\":[{ required: true, message: '请填写密码', pattern: /^\\d{6}$/ }]},model:{value:(_vm.user.code),callback:function ($$v) {_vm.$set(_vm.user, \"code\", $$v)},expression:\"user.code\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"loading\":_vm.isLoading,\"disabled\":_vm.isLoading,\"loading-text\":\"加载中...\",\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"登录\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar title=\"黑马头条 - 登录\"/>\r\n    <van-form @submit=\"onSubmit\">\r\n  <van-field\r\n    v-model=\"user.mobile\"\r\n    name=\"mobile\"\r\n    label=\"手机号\"\r\n    placeholder=\"请输入手机号\"\r\n    required\r\n    :rules=\"[{ required: true, message: '请填写手机号', pattern: /^1[3456789]\\d{9}$/ }]\"\r\n  />\r\n  <van-field\r\n    v-model=\"user.code\"\r\n    type=\"password\"\r\n    name=\"code\"\r\n    label=\"密码\"\r\n    placeholder=\"请输入密码\"\r\n    required\r\n    :rules=\"[{ required: true, message: '请填写密码', pattern: /^\\d{6}$/ }]\"\r\n  />\r\n  <div style=\"margin: 16px;\">\r\n    <van-button :loading=\"isLoading\" :disabled=\"isLoading\" loading-text=\"加载中...\" round block type=\"info\" native-type=\"submit\">登录</van-button>\r\n  </div>\r\n</van-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Notify from '@/ui/Notify.js'\r\nimport { loginAPI } from '@/api'\r\nimport { setToken } from '@/utils/token.js'\r\nimport { setStorage } from '@/utils/storage'\r\nexport default {\r\n  data () {\r\n    return {\r\n      user: {\r\n        mobile: '13888888888',\r\n        code: '246810'\r\n      },\r\n      isLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    async onSubmit (values) {\r\n      this.isLoading = true\r\n      try {\r\n        const res = await loginAPI(values)\r\n        console.log(res)\r\n        // 成功通知\r\n        Notify({ type: 'success', message: '登录成功！' })\r\n        setToken(res.data.data.token)\r\n        setStorage('refresh_token', res.data.data.refresh_token)\r\n        this.$router.replace({\r\n          path: this.$route.query.path || '/layout/home'\r\n        })\r\n      } catch (err) {\r\n        // Promise 内 ajax 抛出错误，直接进入这里\r\n        Notify({ type: 'danger', message: '账号或密码错误' })\r\n      }\r\n      this.isLoading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  // .van-nav-bar{\r\n  //   background-color: #007bff;\r\n  // }\r\n  // /deep/ .van-nav-bar__title{\r\n  //     color: #fff;\r\n  //   }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3052d3d7&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3052d3d7&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3052d3d7\",\n  null\n  \n)\n\nexport default component.exports","var lockCount = 0;\nexport function lockClick(lock) {\n  if (lock) {\n    if (!lockCount) {\n      document.body.classList.add('van-toast--unclickable');\n    }\n\n    lockCount++;\n  } else {\n    lockCount--;\n\n    if (!lockCount) {\n      document.body.classList.remove('van-toast--unclickable');\n    }\n  }\n}","// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { lockClick } from './lock-click'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('toast'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin()],\n  props: {\n    icon: String,\n    className: null,\n    iconPrefix: String,\n    loadingType: String,\n    forbidClick: Boolean,\n    closeOnClick: Boolean,\n    message: [Number, String],\n    type: {\n      type: String,\n      default: 'text'\n    },\n    position: {\n      type: String,\n      default: 'middle'\n    },\n    transition: {\n      type: String,\n      default: 'van-fade'\n    },\n    lockScroll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      clickable: false\n    };\n  },\n  mounted: function mounted() {\n    this.toggleClickable();\n  },\n  destroyed: function destroyed() {\n    this.toggleClickable();\n  },\n  watch: {\n    value: 'toggleClickable',\n    forbidClick: 'toggleClickable'\n  },\n  methods: {\n    onClick: function onClick() {\n      if (this.closeOnClick) {\n        this.close();\n      }\n    },\n    toggleClickable: function toggleClickable() {\n      var clickable = this.value && this.forbidClick;\n\n      if (this.clickable !== clickable) {\n        this.clickable = clickable;\n        lockClick(clickable);\n      }\n    },\n\n    /* istanbul ignore next */\n    onAfterEnter: function onAfterEnter() {\n      this.$emit('opened');\n\n      if (this.onOpened) {\n        this.onOpened();\n      }\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.$emit('closed');\n    },\n    genIcon: function genIcon() {\n      var h = this.$createElement;\n      var icon = this.icon,\n          type = this.type,\n          iconPrefix = this.iconPrefix,\n          loadingType = this.loadingType;\n      var hasIcon = icon || type === 'success' || type === 'fail';\n\n      if (hasIcon) {\n        return h(Icon, {\n          \"class\": bem('icon'),\n          \"attrs\": {\n            \"classPrefix\": iconPrefix,\n            \"name\": icon || type\n          }\n        });\n      }\n\n      if (type === 'loading') {\n        return h(Loading, {\n          \"class\": bem('loading'),\n          \"attrs\": {\n            \"type\": loadingType\n          }\n        });\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n      var type = this.type,\n          message = this.message;\n\n      if (!isDef(message) || message === '') {\n        return;\n      }\n\n      if (type === 'html') {\n        return h(\"div\", {\n          \"class\": bem('text'),\n          \"domProps\": {\n            \"innerHTML\": message\n          }\n        });\n      }\n\n      return h(\"div\", {\n        \"class\": bem('text')\n      }, [message]);\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": this.transition\n      },\n      \"on\": {\n        \"afterEnter\": this.onAfterEnter,\n        \"afterLeave\": this.onAfterLeave\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem([this.position, (_ref = {}, _ref[this.type] = !this.icon, _ref)]), this.className],\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genIcon(), this.genMessage()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueToast from './Toast';\nimport { isObject, isServer } from '../utils';\nimport { removeNode } from '../utils/dom/node';\nvar defaultOptions = {\n  icon: '',\n  type: 'text',\n  // @deprecated\n  mask: false,\n  value: true,\n  message: '',\n  className: '',\n  overlay: false,\n  onClose: null,\n  onOpened: null,\n  duration: 2000,\n  iconPrefix: undefined,\n  position: 'middle',\n  transition: 'van-fade',\n  forbidClick: false,\n  loadingType: undefined,\n  getContainer: 'body',\n  overlayStyle: null,\n  closeOnClick: false,\n  closeOnClickOverlay: false\n}; // default options of specific type\n\nvar defaultOptionsMap = {};\nvar queue = [];\nvar multiple = false;\n\nvar currentOptions = _extends({}, defaultOptions);\n\nfunction parseOptions(message) {\n  if (isObject(message)) {\n    return message;\n  }\n\n  return {\n    message: message\n  };\n}\n\nfunction isInDocument(element) {\n  return document.body.contains(element);\n}\n\nfunction createInstance() {\n  /* istanbul ignore if */\n  if (isServer) {\n    return {};\n  }\n\n  queue = queue.filter(function (item) {\n    return !item.$el.parentNode || isInDocument(item.$el);\n  });\n\n  if (!queue.length || multiple) {\n    var toast = new (Vue.extend(VueToast))({\n      el: document.createElement('div')\n    });\n    toast.$on('input', function (value) {\n      toast.value = value;\n    });\n    queue.push(toast);\n  }\n\n  return queue[queue.length - 1];\n} // transform toast options to popup props\n\n\nfunction transformOptions(options) {\n  return _extends({}, options, {\n    overlay: options.mask || options.overlay,\n    mask: undefined,\n    duration: undefined\n  });\n}\n\nfunction Toast(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var toast = createInstance(); // should add z-index if previous toast has not disappeared\n\n  if (toast.value) {\n    toast.updateZIndex();\n  }\n\n  options = parseOptions(options);\n  options = _extends({}, currentOptions, defaultOptionsMap[options.type || currentOptions.type], options);\n\n  if (process.env.NODE_ENV === 'development' && options.mask) {\n    console.warn('[Vant] Toast: \"mask\" option is deprecated, use \"overlay\" option instead.');\n  }\n\n  options.clear = function () {\n    toast.value = false;\n\n    if (options.onClose) {\n      options.onClose();\n      options.onClose = null;\n    }\n\n    if (multiple && !isServer) {\n      toast.$on('closed', function () {\n        clearTimeout(toast.timer);\n        queue = queue.filter(function (item) {\n          return item !== toast;\n        });\n        removeNode(toast.$el);\n        toast.$destroy();\n      });\n    }\n  };\n\n  _extends(toast, transformOptions(options));\n\n  clearTimeout(toast.timer);\n\n  if (options.duration > 0) {\n    toast.timer = setTimeout(function () {\n      toast.clear();\n    }, options.duration);\n  }\n\n  return toast;\n}\n\nvar createMethod = function createMethod(type) {\n  return function (options) {\n    return Toast(_extends({\n      type: type\n    }, parseOptions(options)));\n  };\n};\n\n['loading', 'success', 'fail'].forEach(function (method) {\n  Toast[method] = createMethod(method);\n});\n\nToast.clear = function (all) {\n  if (queue.length) {\n    if (all) {\n      queue.forEach(function (toast) {\n        toast.clear();\n      });\n      queue = [];\n    } else if (!multiple) {\n      queue[0].clear();\n    } else {\n      queue.shift().clear();\n    }\n  }\n};\n\nToast.setDefaultOptions = function (type, options) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = options;\n  } else {\n    _extends(currentOptions, type);\n  }\n};\n\nToast.resetDefaultOptions = function (type) {\n  if (typeof type === 'string') {\n    defaultOptionsMap[type] = null;\n  } else {\n    currentOptions = _extends({}, defaultOptions);\n    defaultOptionsMap = {};\n  }\n};\n\nToast.allowMultiple = function (value) {\n  if (value === void 0) {\n    value = true;\n  }\n\n  multiple = value;\n};\n\nToast.install = function () {\n  Vue.use(VueToast);\n};\n\nVue.prototype.$toast = Toast;\nexport default Toast;","// 封装通知的方法\r\n\r\nimport { Toast } from 'vant'\r\n\r\nexport default ({ type, message }) => {\r\n  if (type === 'danger') {\r\n    type = 'fail' // Toast失败图标类型叫fail才行\r\n  }\r\n  Toast({\r\n    type,\r\n    message\r\n  })\r\n}\r\n","// 封装本地存储方法\r\n// 整个项目使用 localStorage，sessionStorage，还是cookie\r\n// 只需要改变这里即可\r\n// 封装:为了统一管理,方便以后修改和替换\r\nexport const setStorage = (key, value) => {\r\n  localStorage.setItem(key, value)\r\n}\r\n\r\nexport const getStorage = (key) => {\r\n  return localStorage.getItem(key)\r\n}\r\n\r\nexport const removeStorage = (key) => {\r\n  localStorage.removeItem(key)\r\n}\r\n"],"names":["render","_vm","this","_c","_self","attrs","on","onSubmit","required","message","pattern","model","value","user","mobile","callback","$$v","$set","expression","code","staticStyle","isLoading","_v","staticRenderFns","data","methods","console","Notify","type","setToken","setStorage","path","component","lockCount","lockClick","lock","document","body","classList","add","remove","_createNamespace","createNamespace","createComponent","bem","mixins","PopupMixin","props","icon","String","className","iconPrefix","loadingType","forbidClick","Boolean","closeOnClick","Number","default","position","transition","lockScroll","clickable","mounted","toggleClickable","destroyed","watch","onClick","close","onAfterEnter","$emit","onOpened","onAfterLeave","genIcon","h","$createElement","hasIcon","Icon","Loading","genMessage","isDef","_ref","arguments","name","defaultOptions","mask","overlay","onClose","duration","undefined","getContainer","overlayStyle","closeOnClickOverlay","defaultOptionsMap","queue","multiple","currentOptions","_extends","parseOptions","isObject","isInDocument","element","contains","createInstance","isServer","filter","item","$el","parentNode","length","toast","Vue","VueToast","el","createElement","$on","push","transformOptions","options","Toast","updateZIndex","clear","clearTimeout","timer","removeNode","$destroy","setTimeout","createMethod","forEach","method","all","shift","setDefaultOptions","resetDefaultOptions","allowMultiple","install","key","localStorage","setItem","getStorage","getItem"],"sourceRoot":""}